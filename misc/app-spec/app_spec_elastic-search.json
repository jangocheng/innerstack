{
  "kind": "AppSpec",
  "meta": {
    "id": "15c93ff8d6fe167b",
    "name": "elastic-search",
    "version": "2"
  },
  "roles": [
    100
  ],
  "description": "ElasticSearch AppSpec",
  "packages": [
    {
      "name": "java-jre",
      "version": "1.8.0.151",
      "release": "3",
      "dist": "el7",
      "arch": "x64"
    },
    {
      "name": "elasticsearch",
      "version": "5.6.3",
      "release": "5",
      "dist": "el7",
      "arch": "x64"
    }
  ],
  "executors": [
    {
      "name": "main",
      "exec_start": "if pidof java; then\n    exit 0\nfi\n\nmkdir -p /home/action/apps/java-jre8/\nrsync -av {{.inpack_prefix_java_jre}}/* /home/action/apps/java-jre8/\n\nmkdir -p /home/action/apps/elasticsearch/\nrsync -av {{.inpack_prefix_elasticsearch}}/* /home/action/apps/elasticsearch/\n\nexport JAVA_HOME=/home/action/apps/java-jre8/\nexport PATH=$JAVA_HOME/bin:$PATH\n\n/home/action/apps/elasticsearch/bin/elasticsearch \u003e /dev/null 2\u003e\u00261 \u0026\n\nsleep 1\nexit 0",
      "exec_stop": "killall java",
      "plan": {
        "on_tick": 60
      }
    }
  ],
  "service_ports": [
    {
      "name": "http",
      "box_port": 9200
    }
  ]
}